export FAST_SHELL_STARTUP=$FAST_SHELL_STARTUP$VSCODE_RESOLVING_ENVIRONMENT

# Paths
export PATH=$HOME/bin:$HOME/lib/colorant:$PATH
if [ -x /usr/libexec/path_helper ]; then
  eval `/usr/libexec/path_helper -s`
fi

# Start dotfiles sync
if [ -z  "$FAST_SHELL_STARTUP" ]; then
  $("$HOME/bin/dotfiles" status > /dev/null &)
fi

# Colors
export CLICOLOR=1
export LSCOLORS=DxGxcxdxCxegedabagacad

# Linked project aliases
alias index=\$HOME/lib/index/index
alias serve=\$HOME/lib/serve/serve
alias wallpaper=\$HOME/lib/wallpaper/wallpaper
alias arkivera=\$HOME/lib/arkivera/arkivera.sh
alias backup=\$HOME/lib/backup/backup
alias ptbackup=\$HOME/lib/ptbackup/ptbackup
alias rgit=\$HOME/lib/rgit/rgit
alias hours=\$HOME/lib/hours/hours

# Aliases
alias mci="mvn clean install"
alias devenv="source devenv"
alias cde="cd \"\$DEVENV_HOME\""
alias gci="git commit"
alias gad="git add"
alias gst="git status"
alias gco="git checkout"
alias gbr="git checkout -b"

function sourceIfExists() {
  for file in "$@"; do
    if [ -f "$HOME/$file" ]; then
      source "$HOME/$file"
    fi
  done
}
# OS specific customizations
if [[ "$OSTYPE" == cygwin* ]]; then
  sourceIfExists .common_win
elif [[ "$OSTYPE" == darwin* ]]; then
  sourceIfExists .common_osx
fi

# Dev environment
export DEVENV=""
export DEVENV_HOME=$HOME
if [ -f "$HOME/.devenv" ]; then
  export DEVENV="$(cat $HOME/.devenv)"
  sourceIfExists ".devenv_${DEVENV}"
fi

sourceIfExists .common_local .commonrc_local
